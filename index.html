<!doctype html>
<html lang="bn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>al bayan</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="app.css" />
  </head>

  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <div class="theme-toggle">
          <label class="switch">
            <input type="checkbox" id="themeToggle" />
            <span class="slider"></span>
          </label>
        </div>
        <div class="logo-container">
          <div class="logo">┘Д┘О╪з ╪е┘Р┘Д┘░┘З┘О ╪е┘Р┘Д┘О┘С╪з ╪з┘Д┘Д┘З</div>
          <h1 class="title">Al Bayan</h1>
          <p class="subtitle">ржмржЗ ржЕржирзБржмрж╛ржж</p>
        </div>
      </header>

      <!-- Navigation Tabs -->
      <div class="nav-tabs">
        <div class="nav-tab active" onclick="showTab('translate')">
          <i class="fas fa-translate"></i> ржЕржирзБржмрж╛ржж ржХрж░рзБржи
        </div>
        <div class="nav-tab" onclick="showTab('history')">
          <i class="fas fa-history"></i> ржЗрждрж┐рж╣рж╛рж╕
        </div>
        <div class="nav-tab" onclick="showTab('library')">
          <i class="fas fa-book"></i> рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐
        </div>
      </div>

      <!-- Translation Tab -->
      <div id="translate-tab" class="main-card">
        <!-- API Status -->
        <div id="apiStatus" class="api-status warning">
          <i class="fas fa-exclamation-triangle"></i> ржЬрж┐ржорж┐ржирж┐ API ржЯрж┐ ржкрзНрж░ржпрж╝рзЛржЬржиред
          ржирж┐ржЪрзЗ ржЖржкржирж╛рж░ API ржЯрж┐ ржжрж┐ржиред
        </div>

        <!-- API Key Input -->
        <div
          style="
            background: var(--bg-light);
            padding: 20px;
            border-radius: var(--radius);
            margin: 20px 0;
            border-left: 4px solid var(--primary);
          "
        >
          <div
            style="
              display: flex;
              gap: 10px;
              align-items: center;
              flex-wrap: wrap;
            "
          >
            <input
              type="password"
              id="apiKeyInput"
              placeholder="ржПржЦрж╛ржирзЗ ржЖржкржирж╛рж░ ржЬрж┐ржорж┐ржирж┐ API ржХрзА ржжрж┐ржи"
              style="
                flex: 1;
                padding: 12px 15px;
                border: 1px solid var(--border-light);
                border-radius: var(--radius);
                font-family: &quot;Hind Siliguri&quot;;
                min-width: 250px;
              "
            />
            <button
              class="btn"
              onclick="saveApiKey()"
              style="padding: 12px 20px"
            >
              <i class="fas fa-save"></i> рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзБржи
            </button>
            <button
              class="btn btn-secondary"
              onclick="testApiKey()"
              style="padding: 12px 20px"
            >
              <i class="fas fa-test"></i> ржЯрзЗрж╕рзНржЯ ржХрж░рзБржи
            </button>
          </div>
          <p
            style="
              margin-top: 10px;
              font-size: 0.9rem;
              color: var(--text-light);
            "
          >
            ЁЯФС API ржкрж╛ржмрзЗржи:
            <a
              href="https://aistudio.google.com/app/apikey"
              target="_blank"
              style="color: var(--primary)"
              >Google AI Studio</a
            >
            ржерзЗржХрзЗ
          </p>
        </div>

        <!-- File Upload -->
        <div class="file-upload-container" id="fileUploadArea">
          <div class="upload-icon">
            <i class="fas fa-file-pdf"></i>
          </div>
          <h3
            style="
              font-size: 2rem;
              margin-bottom: 15px;
              color: var(--text-dark);
            "
          >
            PDF ржлрж╛ржЗрж▓ ржЖржкрж▓рзЛржб ржХрж░рзБржи
          </h3>
          <p
            style="
              font-size: 1.2rem;
              color: var(--text-light);
              margin-bottom: 30px;
            "
          >
            ржЖрж░ржмрж┐ ржЗрж╕рж▓рж╛ржорж┐ржХ ржмржЗржпрж╝рзЗрж░ PDF рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рзБржи (рж╕рж░рзНржмрзЛржЪрзНржЪ рзирзж ржПржоржмрж┐)
          </p>
          <input type="file" id="pdfFile" accept=".pdf" hidden />
          <button
            class="btn btn-gold"
            onclick="document.getElementById('pdfFile').click()"
          >
            <i class="fas fa-upload"></i> PDF рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рзБржи
          </button>
        </div>

        <!-- File Info Display -->
        <div id="fileInfo" class="file-info" style="display: none">
          <div class="file-name" id="fileName"></div>
          <div class="file-size" id="fileSize"></div>
        </div>

        <!-- PDF Type Selection -->
        <div
          style="
            background: #fff3cd;
            padding: 20px;
            border-radius: var(--radius);
            margin: 20px 0;
            text-align: center;
            border-left: 4px solid #ffc107;
          "
        >
          <strong>ЁЯУД PDF ржЯрж╛ржЗржк рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рзБржи:</strong>
          <div
            style="
              display: flex;
              justify-content: center;
              gap: 20px;
              margin-top: 15px;
              flex-wrap: wrap;
            "
          >
            <div
              class="pdf-type-option active"
              data-type="text"
              onclick="selectPdfType('text')"
              style="
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 10px 15px;
                background: white;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s ease;
              "
            >
              <i class="fas fa-font"></i>
              <span>рж╕рж╛ржзрж╛рж░ржг PDF (ржЯрзЗржХрзНрж╕ржЯ)</span>
            </div>
            <div
              class="pdf-type-option"
              data-type="ocr"
              onclick="selectPdfType('ocr')"
              style="
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 10px 15px;
                background: white;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s ease;
              "
            >
              <i class="fas fa-camera"></i>
              <span>рж╕рзНржХрзНржпрж╛ржи ржХрж░рж╛ PDF (OCR)</span>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button
            class="btn"
            onclick="extractAndTranslate()"
            id="extractTranslateBtn"
          >
            <i class="fas fa-bolt"></i> ржПржХрж╕рж╛ржерзЗ ржПржХрзНрж╕ржЯрзНрж░рзНржпрж╛ржХрзНржЯ ржУ ржЕржирзБржмрж╛ржж ржХрж░рзБржи
          </button>
          <button
            class="btn btn-danger stop-pulse"
            onclick="stopTranslation()"
            id="stopBtn"
            style="display: none"
          >
            <i class="fas fa-stop"></i> ржЕржирзБржмрж╛ржж ржмржирзНржз ржХрж░рзБржи
          </button>
          <button class="btn btn-secondary" onclick="clearAll()">
            <i class="fas fa-redo"></i> рж░рж┐рж╕рзЗржЯ ржХрж░рзБржи
          </button>
        </div>

        <!-- Progress Bar -->
        <div
          class="progress-container"
          id="progressContainer"
          style="display: none"
        >
          <div class="progress-bar" id="progressBar" style="width: 0%">0%</div>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
          <div class="spinner"></div>
          <p
            id="loadingText"
            style="font-size: 1.2rem; color: var(--text-light)"
          >
            ржЕржирзБржмрж╛ржж ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ... ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзБржи
          </p>
        </div>

        <!-- Text Preview -->
        <div class="text-preview-container">
          <div class="text-preview">
            <div class="text-preview-header">
              <h3><i class="fas fa-language"></i> ржЖрж░ржмрж┐ ржЯрзЗржХрзНрж╕ржЯ</h3>
              <button
                class="btn"
                onclick="openReader('arabic')"
                style="padding: 8px 15px; font-size: 0.9rem"
              >
                <i class="fas fa-expand"></i> ржмржбрж╝ ржХрж░рзЗ ржкржбрж╝рзБржи
              </button>
            </div>
            <textarea
              class="text-content arabic-text"
              id="arabicText"
              placeholder="ржПржЦрж╛ржирзЗ ржЖрж░ржмрж┐ ржЯрзЗржХрзНрж╕ржЯ ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗ..."
              readonly
            ></textarea>
          </div>
          <div class="text-preview">
            <div class="text-preview-header">
              <h3><i class="fas fa-translate"></i> ржмрж╛ржВрж▓рж╛ ржЕржирзБржмрж╛ржж</h3>
              <button
                class="btn"
                onclick="openReader('bangla')"
                style="padding: 8px 15px; font-size: 0.9rem"
              >
                <i class="fas fa-expand"></i> ржмржбрж╝ ржХрж░рзЗ ржкржбрж╝рзБржи
              </button>
            </div>
            <textarea
              class="text-content bangla-text"
              id="banglaText"
              placeholder="ржПржЦрж╛ржирзЗ ржмрж╛ржВрж▓рж╛ ржЕржирзБржмрж╛ржж ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗ..."
              readonly
            ></textarea>
          </div>
        </div>
      </div>

      <!-- History Tab -->
      <div id="history-tab" class="main-card hidden">
        <h2
          style="text-align: center; margin-bottom: 30px; color: var(--primary)"
        >
          <i class="fas fa-history"></i> ржЖржкржирж╛рж░ ржЕржирзБржмрж╛ржж ржЗрждрж┐рж╣рж╛рж╕
        </h2>
        <div class="history-grid" id="historyGrid">
          <!-- History items will be dynamically added here -->
          <div
            style="text-align: center; color: var(--text-light); padding: 40px"
          >
            <i
              class="fas fa-inbox"
              style="font-size: 3rem; margin-bottom: 20px"
            ></i>
            <p>ржХрзЛржирзЛ ржЕржирзБржмрж╛ржж ржЗрждрж┐рж╣рж╛рж╕ ржирзЗржЗ</p>
          </div>
        </div>
      </div>

      <!-- Library Tab -->
      <div id="library-tab" class="main-card hidden">
        <h2
          style="text-align: center; margin-bottom: 30px; color: var(--primary)"
        >
          <i class="fas fa-book"></i> ржЗрж╕рж▓рж╛ржорж┐ржХ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐
        </h2>
        <div
          style="
            text-align: center;
            color: var(--text-light);
            margin-bottom: 40px;
          "
        >
          <p>рж╢рзАржШрзНрж░ржЗ ржЖрж╕ржЫрзЗ... ржкрзНрж░рж┐рж╕рзЗржЯ ржЗрж╕рж▓рж╛ржорж┐ржХ ржмржЗржЧрзБрж▓рзЛрж░ рж╕ржВржЧрзНрж░рж╣</p>
        </div>
      </div>
    </div>

    <!-- Reader Modal -->
    <div class="reader-modal" id="readerModal">
      <div class="reader-content">
        <div class="reader-header">
          <h3 id="readerTitle">ржмрж╛ржВрж▓рж╛ ржЕржирзБржмрж╛ржж</h3>
          <button
            class="btn"
            onclick="closeReader()"
            style="padding: 8px 15px; background: rgba(255, 255, 255, 0.2)"
          >
            <i class="fas fa-times"></i> ржмржирзНржз ржХрж░рзБржи
          </button>
        </div>
        <div class="reader-body" id="readerBody">
          <!-- Content will be dynamically added -->
        </div>
        <div class="reader-controls">
          <button
            class="btn"
            onclick="changeFontSize(-2)"
            style="padding: 8px 15px"
          >
            <i class="fas fa-font"></i> ржЫрзЛржЯ
          </button>
          <button
            class="btn"
            onclick="changeFontSize(2)"
            style="padding: 8px 15px"
          >
            <i class="fas fa-font"></i> ржмржбрж╝
          </button>
          <button
            class="btn"
            onclick="toggleDarkReader()"
            style="padding: 8px 15px"
          >
            <i class="fas fa-moon"></i> ржирж╛ржЗржЯ ржорзЛржб
          </button>
          <button
            class="btn"
            id="ttsButton"
            onclick="toggleSpeakText()"
            style="padding: 8px 15px"
          >
            <i class="fas fa-volume-up"></i> ржкржбрж╝рзБржи
          </button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <p>┬й 2025 Al Bayan - translation is not 100% accurate so be careful</p>
      <p style="margin-top: 10px; font-size: 0.9em">ржмрж╛ржХрж┐рзЯрж╛рж╣ ржЗржирж╕рзНржЯрж┐ржЯрж┐ржЙржЯ</p>
    </footer>

    <script src="app.js"></script>
  </body>
</html>
